namespace iss_solve_spec;

delta_fn u _ _ = u;
cost_fn u x _  = (u^2 + x^2) / 2;
iss_solve = octave_call "iss_solve" 4;

let result = iss_solve problem when
  octave_delta_fn = octave_func ("pure_call('iss_solve_spec::delta_fn', u, x, t)", "u", "x", "t");

  octave_cost_fn  = octave_func ("pure_call('iss_solve_spec::cost_fn', u, x, t)", "u", "x", "t");

  problem = octave_delta_fn,
            octave_cost_fn,
            0, 0.5, // stateLB and stateUB
            "StateStepSize", 0.01,
            "TimeStep", 0.02,
            "DiscountRate", 0.9,
            "ProblemFile", "TestProblem";
end;

<!!: "iss_solve" => [#result should be 4,
                     dim (result!0) should be 