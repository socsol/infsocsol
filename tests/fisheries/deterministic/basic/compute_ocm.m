addpath('infsocsol');

delta_fn = 'fisheries_deterministic_basic_delta';
cost_fn = 'fisheries_deterministic_basic_cost';
state_lb = [60 0.1];
state_ub = [600  1];
opts = {'ControlLB', -0.01, ...
        'ControlUB', 0.01, ...
        'DiscountRate', 0.1, ...
        'PoolSize', 1, ...
        'UserConstraintFunctionFile', ...
        'fisheries_deterministic_basic_constraints', ...
        'StateStepSize', (state_ub - state_lb) / 20};

conf = iss_conf(state_lb, state_ub, opts{:});

save fisheries_deterministic_basic_conf.mat delta_fn cost_fn state_lb state_ub opts

tic
ocm = iss_solve(delta_fn, ...
                cost_fn, ...
                state_lb, state_ub, conf);
toc

save fisheries_deterministic_basic_ocm.mat ocm
